---
title: Стратегия защиты от отказа в обслуживании Microsoft 365
description: В этой статье вы можете найти обзор стратегии защиты Майкрософт для атак с отказом в обслуживании (DoS).
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 5776b3eb6c0b79b5f272d6e24dd8680967ca2eb4
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "51496956"
---
# <a name="microsoft-365-denial-of-service-defense-strategy"></a><span data-ttu-id="682e0-103">Стратегия защиты от отказа в обслуживании Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="682e0-103">Microsoft 365 denial-of-service defense strategy</span></span>

## <a name="core-principles-of-defense-against-denial-of-service-attacks"></a><span data-ttu-id="682e0-104">Основные принципы защиты от атак типа "отказ в обслуживании"</span><span class="sxs-lookup"><span data-stu-id="682e0-104">Core principles of defense against denial-of-service attacks</span></span>

<span data-ttu-id="682e0-105">При защите от атак на отказ от службы на основе сети (DoS) существует три основных принципа: поглощение, обнаружение и смягчение последствий.</span><span class="sxs-lookup"><span data-stu-id="682e0-105">There are three core principles when defending against network-based denial-of-service (DoS) attacks: absorption, detection, and mitigation.</span></span> <span data-ttu-id="682e0-106">Абсорбция происходит перед обнаружением, и обнаружение должно происходить до начала смягчения.</span><span class="sxs-lookup"><span data-stu-id="682e0-106">Absorption happens before detection, and detection must occur before mitigation can begin.</span></span> <span data-ttu-id="682e0-107">Если даже небольшая doS-атака не может быть поглощена, службы не будут проживать достаточно долго для обнаружения атаки.</span><span class="sxs-lookup"><span data-stu-id="682e0-107">If even a small DoS attack cannot be absorbed, then services will not survive long enough for the attack to be detected.</span></span> <span data-ttu-id="682e0-108">Обнаружив атаку до переполнения системы, защитники могут реализовать план реагирования.</span><span class="sxs-lookup"><span data-stu-id="682e0-108">By detecting an attack before the system is overwhelmed, defenders can implement a response plan.</span></span>

<span data-ttu-id="682e0-109">Следующая формула помогает приблизительно определить время, необходимое для воздействия атаки DoS:</span><span class="sxs-lookup"><span data-stu-id="682e0-109">The following formula helps approximate the time to impact of a DoS attack:</span></span>

  <span data-ttu-id="682e0-110">**Максимальная емкость (в bytes/sec) / Скорость роста (в bytes/sec) = Время для воздействия (в sec)**</span><span class="sxs-lookup"><span data-stu-id="682e0-110">**Maximum Capacity (in bytes/sec) / Growth Rate (in bytes/sec) = Time to Impact (in sec)**</span></span>

<span data-ttu-id="682e0-111">Если время обнаружения больше времени, чем время воздействия, атака DoS, скорее всего, будет успешной.</span><span class="sxs-lookup"><span data-stu-id="682e0-111">If the time-to-detection is longer than the time-to-impact, the DoS attack will likely be successful.</span></span> <span data-ttu-id="682e0-112">Если время обнаружения меньше времени, чем время воздействия, атакованые службы должны оставаться в сети и доступны, если стратегии по смягчению последствий будут успешными.</span><span class="sxs-lookup"><span data-stu-id="682e0-112">If the time-to-detection is shorter than the time-to-impact, the attacked services should remain online and accessible if mitigation strategies are successful.</span></span>

<span data-ttu-id="682e0-113">Таким образом, существует две основные стратегии защиты от атак DoS:</span><span class="sxs-lookup"><span data-stu-id="682e0-113">Thus, there are two primary strategies for defending against DoS attacks:</span></span>

- <span data-ttu-id="682e0-114">Увеличение емкости для повышения максимальной емкости (что, в свою очередь, обеспечивает больше времени для обнаружения атаки); или</span><span class="sxs-lookup"><span data-stu-id="682e0-114">Increase capacity to raise the ceiling of maximum capacity (which in turn provides more time to detect an attack); or</span></span>
- <span data-ttu-id="682e0-115">Уменьшите время обнаружения атаки.</span><span class="sxs-lookup"><span data-stu-id="682e0-115">Decrease the time to detect an attack.</span></span>

<span data-ttu-id="682e0-116">Одним из преимуществ использования облачных служб Майкрософт является то, как крупномасштабные службы Майкрософт обеспечивают эффективную защиту сети для облачных клиентов.</span><span class="sxs-lookup"><span data-stu-id="682e0-116">One security benefit of using Microsoft cloud services is how large-scale Microsoft services provide strong network protection to cloud customers in a cost-effective manner.</span></span> <span data-ttu-id="682e0-117">Даже в больших масштабах должен быть баланс между поглощением, обнаружением и смягчением последствий.</span><span class="sxs-lookup"><span data-stu-id="682e0-117">Even on a large scale, there must be a balance between absorption, detection, and mitigation.</span></span> <span data-ttu-id="682e0-118">Чтобы найти этот баланс, Корпорация Майкрософт изучает темпы роста атак, чтобы оценить, сколько служб Майкрософт необходимо поглощать.</span><span class="sxs-lookup"><span data-stu-id="682e0-118">To find that balance, Microsoft studies attack growth rates to estimate how much Microsoft services need to absorb.</span></span>

## <a name="denial-of-service-defense-strategy"></a><span data-ttu-id="682e0-119">Стратегия защиты от атак типа "отказ в обслуживании"</span><span class="sxs-lookup"><span data-stu-id="682e0-119">Denial-of-service defense strategy</span></span>

<span data-ttu-id="682e0-120">Стратегия Корпорации Майкрософт по защите от сетевых doS-атак уникальна благодаря нашему масштабу и глобальному следу.</span><span class="sxs-lookup"><span data-stu-id="682e0-120">Microsoft's strategy to defend against network-based DoS attacks is unique due to our scale and global footprint.</span></span> <span data-ttu-id="682e0-121">Эта шкала позволяет Корпорации Майкрософт использовать стратегии и методы, недоступные большинству других организаций.</span><span class="sxs-lookup"><span data-stu-id="682e0-121">This scale allows Microsoft to utilize strategies and techniques that are unavailable to most other organizations.</span></span> <span data-ttu-id="682e0-122">Краеугольным камнем нашей стратегии DoS является глобальное присутствие.</span><span class="sxs-lookup"><span data-stu-id="682e0-122">The cornerstone of our DoS strategy is our global presence.</span></span> <span data-ttu-id="682e0-123">Корпорация Майкрософт занимается с интернет-провайдерами, поставщиками одноранговых услуг (государственными и частными) и частными корпорациями по всему миру.</span><span class="sxs-lookup"><span data-stu-id="682e0-123">Microsoft engages with Internet providers, peering providers (public and private), and private corporations all over the world.</span></span> <span data-ttu-id="682e0-124">Это взаимодействие обеспечивает Microsoft значительное присутствие в Интернете и позволяет Корпорации Майкрософт поглощать атаки на большой поверхности.</span><span class="sxs-lookup"><span data-stu-id="682e0-124">This engagement gives Microsoft a significant Internet presence and enables Microsoft to absorb attacks across a large surface area.</span></span>

<span data-ttu-id="682e0-125">По мере того, как с течением времени возможности Microsoft по краям значительно возросли, значительно снизилось значение атак на отдельные края.</span><span class="sxs-lookup"><span data-stu-id="682e0-125">As Microsoft's edge capacity has grown over time, the significance of attacks against individual edges has substantially diminished.</span></span> <span data-ttu-id="682e0-126">Из-за этого сокращения Корпорация Майкрософт отделила компоненты обнаружения и смягчения последствий своей системы предотвращения doS.</span><span class="sxs-lookup"><span data-stu-id="682e0-126">Because of this decrease, Microsoft has separated the detection and mitigation components of its DoS prevention system.</span></span> <span data-ttu-id="682e0-127">Корпорация Майкрософт развертывает многоуровневые системы обнаружения в региональных центрах обработки данных для обнаружения атак ближе к точкам их насыщения при сохранении глобального смягчения последствий на краях.</span><span class="sxs-lookup"><span data-stu-id="682e0-127">Microsoft deploys multi-tiered detection systems at regional datacenters to detect attacks closer to their saturation points while maintaining global mitigation at the edge nodes.</span></span> <span data-ttu-id="682e0-128">Эта стратегия гарантирует, что службы Майкрософт могут обрабатывать несколько одновременных атак.</span><span class="sxs-lookup"><span data-stu-id="682e0-128">This strategy ensures that Microsoft services can handle multiple simultaneous attacks.</span></span>

<span data-ttu-id="682e0-129">Одной из наиболее эффективных и недорогих средств защиты, которая используется Корпорацией Майкрософт для защиты от атак DoS, является уменьшение поверхностей атак службы.</span><span class="sxs-lookup"><span data-stu-id="682e0-129">One of the most effective and low-cost defenses employed by Microsoft against DoS attacks is reducing service attack surfaces.</span></span> <span data-ttu-id="682e0-130">Нежелательный трафик отбрасовывали по краю сети вместо анализа, обработки и очистки данных.</span><span class="sxs-lookup"><span data-stu-id="682e0-130">Unwanted traffic is dropped at the network edge instead of analyzing, processing, and scrubbing the data inline.</span></span>

<span data-ttu-id="682e0-131">В интерфейсе с публичной сетью Корпорация Майкрософт использует специальные устройства безопасности для брандмауэра, перевода сетевых адресов и функций фильтрации IP.</span><span class="sxs-lookup"><span data-stu-id="682e0-131">At the interface with the public network, Microsoft uses special-purpose security devices for firewall, network address translation, and IP filtering functions.</span></span> <span data-ttu-id="682e0-132">Корпорация Майкрософт также использует глобальную маршрутику с равными затратами на несколько путей (ECMP).</span><span class="sxs-lookup"><span data-stu-id="682e0-132">Microsoft also uses global equal-cost multi-path (ECMP) routing.</span></span> <span data-ttu-id="682e0-133">Глобальная маршрутная маршрутия ECMP — это сеть, обеспечиваемая несколькими глобальными путями для достижения службы.</span><span class="sxs-lookup"><span data-stu-id="682e0-133">Global ECMP routing is a network framework to ensure that there are multiple global paths to reach a service.</span></span> <span data-ttu-id="682e0-134">С помощью нескольких путей к каждой службе doS-атаки ограничиваются областью, из которой происходит атака.</span><span class="sxs-lookup"><span data-stu-id="682e0-134">With multiple paths to each service, DoS attacks are limited to the region from which the attack originates.</span></span> <span data-ttu-id="682e0-135">Другие регионы должны быть неуявяемы от атаки, так как конечные пользователи будут использовать другие пути для достижения службы в этих регионах.</span><span class="sxs-lookup"><span data-stu-id="682e0-135">Other regions should be unaffected by the attack, as end users would use other paths to reach the service in those regions.</span></span> <span data-ttu-id="682e0-136">Корпорация Майкрософт также разработала внутренние системы корреляции и обнаружения doS, которые используют данные потока, показатели производительности и другую информацию для быстрого обнаружения атак DoS.</span><span class="sxs-lookup"><span data-stu-id="682e0-136">Microsoft has also developed internal DoS correlation and detection systems that use flow data, performance metrics, and other information to rapidly detect DoS attacks.</span></span>

<span data-ttu-id="682e0-137">Чтобы защитить наши облачные службы, Microsoft 365 использует распределенную систему защиты от отказа в обслуживании (DDoS), встроенную в непрерывные процессы мониторинга и тестирования на проникновение Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="682e0-137">To further protect our cloud services, Microsoft 365 uses a distributed denial-of-service (DDoS) defense system built into Microsoft Azure's continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="682e0-138">Система защиты Azure DDoS предназначена не только для защиты от внешних атак, но и для атак других клиентов Azure.</span><span class="sxs-lookup"><span data-stu-id="682e0-138">The Azure DDoS defense system is designed not only to withstand external attacks, but also attacks from other Azure tenants.</span></span> <span data-ttu-id="682e0-139">Azure использует стандартные методы обнаружения и смягчения последствий, такие как cookie-файлы SYN, ограничение скорости и ограничения подключения для защиты от DDoS-атак.</span><span class="sxs-lookup"><span data-stu-id="682e0-139">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span> <span data-ttu-id="682e0-140">Чтобы поддерживать автоматизированную защиту, группа реагирования на инциденты doS с перекрестной рабочей нагрузкой определяет роли и обязанности между группами, критерии эскалации и протоколы обработки инцидентов между затронутыми группами.</span><span class="sxs-lookup"><span data-stu-id="682e0-140">To support our automated protections, a cross-workload DoS incident response team identifies the roles and responsibilities across teams, the criteria for escalations, and the protocols for incident handling across affected teams.</span></span>

<span data-ttu-id="682e0-141">Большинство атак DoS, запущенных против целей, находятся на уровнях Network (L3) и Transport (L4) модели [interconnection](/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) открытых систем.</span><span class="sxs-lookup"><span data-stu-id="682e0-141">Most DoS attacks launched against targets are at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="682e0-142">Атаки, направленные на уровни L3 и L4, предназначены для наводки сетевого интерфейса или службы трафиком атак, чтобы перегружать ресурсы и отказывать в возможности реагировать на законный трафик.</span><span class="sxs-lookup"><span data-stu-id="682e0-142">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="682e0-143">Чтобы защититься от атак L3 и L4, решения Microsoft DoS используют данные выборки трафика из маршрутизаторов центра обработки данных для защиты инфраструктуры и целевых показателей клиентов.</span><span class="sxs-lookup"><span data-stu-id="682e0-143">To guard against L3 and L4 attacks, Microsoft's DoS solutions use traffic sampling data from datacenter routers to safeguard the infrastructure and customer targets.</span></span> <span data-ttu-id="682e0-144">Данные выборки трафика анализируются службой мониторинга сети для обнаружения атак.</span><span class="sxs-lookup"><span data-stu-id="682e0-144">Traffic sampling data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="682e0-145">При обнаружении атаки автоматические механизмы защиты будут смягчать атаку и гарантировать, что трафик атаки, направленный на одного клиента, не приведет к сопутствующим повреждениям или снижению качества обслуживания для других клиентов.</span><span class="sxs-lookup"><span data-stu-id="682e0-145">When an attack is detected, automated defense mechanisms kick in to mitigate the attack and ensure that attack traffic directed at one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="682e0-146">Защита на уровне приложений</span><span class="sxs-lookup"><span data-stu-id="682e0-146">Application-level defenses</span></span>

<span data-ttu-id="682e0-147">Инженерные группы Майкрософт придерживались строгих стандартов, установленных [Корпорацией Майкрософт по](https://www.microsoft.com/SDL/OperationalSecurityAssurance) обеспечению оперативной безопасности, чтобы защитить данные клиентов.</span><span class="sxs-lookup"><span data-stu-id="682e0-147">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="682e0-148">Облачные службы Майкрософт намеренно построены для поддержки высоких нагрузок, что помогает защитить от атак DoS на уровне приложений.</span><span class="sxs-lookup"><span data-stu-id="682e0-148">Microsoft's cloud services are intentionally built to support high loads, which helps protect against application-level DoS attacks.</span></span> <span data-ttu-id="682e0-149">Масштабная архитектура Microsoft 365 распространяет службы между несколькими глобальными центрами обработки данных с региональными функциями изоляции и регулирования нагрузки для соответствующих рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="682e0-149">Microsoft 365's scaled-out architecture distributes services across multiple global datacenters with regional isolation and workload-specific throttling features for relevant workloads.</span></span>

<span data-ttu-id="682e0-150">Страна или регион каждого клиента, который определяет администратор клиента при начальной настройке служб, определяет основное расположение хранилища данных этого клиента.</span><span class="sxs-lookup"><span data-stu-id="682e0-150">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="682e0-151">Данные клиентов реплицированы между избыточными центрами обработки данных в соответствии со стратегией первичного и резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="682e0-151">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="682e0-152">В основном центр обработки данных размещено программное обеспечение приложения вместе со всеми основными данными клиента, работающими на программном обеспечении.</span><span class="sxs-lookup"><span data-stu-id="682e0-152">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="682e0-153">Центр обработки данных резервного копирования обеспечивает автоматическую сбойную обработку.</span><span class="sxs-lookup"><span data-stu-id="682e0-153">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="682e0-154">Если основной центр обработки данных по какой-либо причине перестает функционировать, запросы перенаправляются в копию программного обеспечения и клиентские данные в резервном центре обработки данных.</span><span class="sxs-lookup"><span data-stu-id="682e0-154">If the primary datacenter ceases to function for any reason, requests are redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="682e0-155">В любой момент времени данные клиентов могут обрабатываться в основном или резервном центре обработки данных.</span><span class="sxs-lookup"><span data-stu-id="682e0-155">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="682e0-156">Распространение данных между несколькими центрами обработки данных уменьшает пораженную область поверхности в случае атаки одного центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="682e0-156">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="682e0-157">Кроме того, службы пострадавшего центра обработки данных могут быть быстро перенаправлены во вторичный центр обработки данных для поддержания доступности во время атаки и перенаправлены обратно в основной центр обработки данных после смягчения атаки.</span><span class="sxs-lookup"><span data-stu-id="682e0-157">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter to maintain availability during an attack and redirected back to the primary datacenter once an attack has been mitigated.</span></span>

<span data-ttu-id="682e0-158">В качестве еще одной меры по смягчению последствий атак DoS отдельные рабочие нагрузки включают встроенные функции, которые управляют использованием ресурсов.</span><span class="sxs-lookup"><span data-stu-id="682e0-158">As another mitigation against DoS attacks, individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="682e0-159">Например, механизмы регулирования в Exchange Online и SharePoint Online являются частью многоуровневого подхода к защите от атак DoS.</span><span class="sxs-lookup"><span data-stu-id="682e0-159">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span>
