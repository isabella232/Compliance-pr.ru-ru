---
title: Внутренние журналы Microsoft 365 для разработки Microsoft 365
description: В этой статье найдите объяснение работы внутренних журналов для инженерных групп Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 110a61c27a00380eede4d4f2303acfb025a27a1f
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497073"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a>Внутренняя регистрация для инженеров Microsoft 365

Помимо событий и данных журналов, доступных для клиентов, существует также внутренняя система сбора данных журналов, доступная инженерам Microsoft 365 в Корпорации Майкрософт. Многие типы данных журнала загружаются с серверов Microsoft 365 во внутреннюю службу вычислений больших данных под названием Cosmos. Каждая группа служб загружает журналы аудита с соответствующих серверов в базу данных Cosmos для агрегации и анализа. Этот перенос данных происходит через подключение TLS с проверкой FIPS 140-2 для специально утвержденных портов и протоколов с помощью средства автоматизации Office Data Loader (ODL). Средства, используемые в Microsoft 365 для сбора и обработки записей аудита, не позволяют вносить постоянные или необратимые изменения в исходное содержимое записи аудита или порядок времени.

Группы служб используют Cosmos как централизованный репозиторий для анализа использования приложений, для измерения производительности системы и работы, а также для проверки нарушений и шаблонов, которые могут указывать на проблемы или проблемы с безопасностью. Каждая группа служб загружает базовый уровень журналов в Cosmos в зависимости от того, что они хотят проанализировать, которые часто включают:

- Журналы событий
- Журналы AppLocker
- Данные о производительности
- Данные Центра систем
- Записи детализации вызовов
- Качество данных об опыте
- Журналы веб-сервера IIS
- SQL Server журналы
- Данные Syslog
- Журналы аудита безопасности

Перед отправкой данных в Cosmos приложение ODL использует службу очистки, чтобы заместить все поля, содержащие данные клиентов, такие как данные клиента и идентифицируемую конечным пользователем информацию, и заменить эти поля значением hash. Анонимизированные и хашизированные журналы переписываются и затем загружаются в Cosmos. Группы служб запускают объемные запросы по своим данным в Космосе для корреляции, оповещения и отчетов. Период хранения данных журнала аудита в Космосе определяется группами служб; большинство данных журнала аудита сохраняется в течение 90 дней или дольше для поддержки расследований инцидентов безопасности и для удовлетворения требований к хранению нормативных данных.

Доступ к данным Microsoft 365, хранимым в Космосе, ограничен уполномоченным персоналом. Корпорация Майкрософт ограничивает управление функциями аудита ограниченным подмножеством членов группы служб, отвечающих за функции аудита. Эти члены группы не имеют возможности изменять или удалять данные из Cosmos, и все изменения в механизмах ведения журнала для Cosmos записывают и проверяют.

Каждая команда службы имеет доступ к данным журнала для анализа, разрешая определенным приложениям проводить определенный анализ. Например, группа безопасности Microsoft 365 использует данные из Cosmos с помощью несвободного анализа журнала событий для сопоставления, оповещения и создания отчетов о возможной подозрительной активности в среде производства Microsoft 365. Отчеты из этих данных используются для устранения уязвимостей и повышения общей производительности службы. Если определенное оповещение или отчет требуют дополнительного расследования, сотрудники службы могут запросить импорт данных обратно в службу Microsoft 365. Так как определенный журнал, импортируемый из Cosmos, находится в зашифрованном виде, а сотрудники службы не имеют доступа к ключам расшифровки, целевой журнал программным образом передается через службу расшифровки, которая возвращает масштабные результаты уполномоченному персоналу службы. Все уязвимости, найденные в этом упражнении, сообщаются и обостряются с помощью стандартных каналов управления инцидентами безопасности Корпорации Майкрософт.
