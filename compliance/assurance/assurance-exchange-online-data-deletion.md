---
title: Удаление данных Microsoft 365 Exchange Online
description: Узнайте, как в Exchange Online обрабатываются мягкие и жесткие удаления данных для почтовых ящиков и элементов в почтовых ящиках.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: c88e7359931fb964fbc4cb6531c5151072a50df0
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497202"
---
# <a name="exchange-online-data-deletion-in-microsoft-365"></a><span data-ttu-id="f5fb8-103">Удаление данных Exchange Online в Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="f5fb8-103">Exchange Online data deletion in Microsoft 365</span></span>

<span data-ttu-id="f5fb8-104">В Exchange Online существует два типа удалений: мягкие удаления и жесткие удаления.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-104">Within Exchange Online, there are two kinds of deletions: soft deletions and hard deletions.</span></span> <span data-ttu-id="f5fb8-105">Это касается как почтовых ящиков, так и элементов в почтовом ящике.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-105">This applies to both mailboxes and items within a mailbox.</span></span>

## <a name="soft-deleted-and-hard-deleted-mailboxes"></a><span data-ttu-id="f5fb8-106">Удаленные и трудно удаленные почтовые ящики</span><span class="sxs-lookup"><span data-stu-id="f5fb8-106">Soft-deleted and hard-deleted mailboxes</span></span>

<span data-ttu-id="f5fb8-107">Удаленный электронный почтовый ящик — это почтовый ящик, удаленный с помощью центра администрирования Microsoft 365 или Remove-Mailbox и до сих пор находится в корзине для утилизации Azure Active Directory менее 30 дней.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-107">A soft-deleted user mailbox is a mailbox that has been deleted using the Microsoft 365 admin center or the Remove-Mailbox cmdlet and has still been in the Azure Active Directory recycle bin for less than 30 days.</span></span> <span data-ttu-id="f5fb8-108">Почтовый ящик может быть удален в любом из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="f5fb8-108">A mailbox can become soft-deleted in any of the following ways:</span></span>

- <span data-ttu-id="f5fb8-109">Связанная учетная запись пользователя Azure Active Directory, связанная с почтовым ящиком пользователя, будет удалена (объект пользователя находится вне области или находится в контейнере контейнера для повторной переработки).</span><span class="sxs-lookup"><span data-stu-id="f5fb8-109">The user mailbox's associated Azure Active Directory user account is soft-deleted (the user object is out of scope or in the recycle bin container).</span></span>
- <span data-ttu-id="f5fb8-110">Связанная учетная запись пользователя Azure Active Directory пользователя почтового ящика пользователя была удалена с трудом, но почтовый ящик Exchange Online находится под удержанием судебного разбирательства или удержанием электронных данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-110">The user mailbox's associated Azure Active Directory user account has been hard-deleted but the Exchange Online mailbox is under a litigation hold or eDiscovery hold.</span></span>
- <span data-ttu-id="f5fb8-111">Связанная учетная запись пользователя Azure Active Directory, связанная с почтовым ящиком пользователя, была стерта в течение последних 30 дней; которая является максимальной длиной хранения Exchange Online, будет хранить почтовый ящик в состоянии мягкого удаления, прежде чем он будет окончательно удален и невозвратным.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-111">The user mailbox's associated Azure Active Directory user account has been purged within the last 30 days; which is the maximum retention length Exchange Online will keep the mailbox in a soft-deleted state before it is permanently purged and unrecoverable.</span></span>

<span data-ttu-id="f5fb8-112">Удаленный почтовый ящик — это почтовый ящик, удаленный одним из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="f5fb8-112">A hard-deleted user mailbox is a mailbox that has been deleted in one of the following ways:</span></span>

- <span data-ttu-id="f5fb8-113">Почтовый ящик пользователя был удален более 30 дней, а связанный пользователь Azure Active Directory был удален с трудом.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-113">The user mailbox has been soft-deleted for more than 30 days, and the associated Azure Active Directory user has been hard-deleted.</span></span> <span data-ttu-id="f5fb8-114">Все содержимое почтовых ящиков, такие как сообщения электронной почты, контакты и файлы, удаляются навсегда.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-114">All mailbox content such as emails, contacts, and files are permanently deleted.</span></span>
- <span data-ttu-id="f5fb8-115">Учетная запись пользователя, связанная с почтовым ящиком пользователя, была удалена из Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-115">The user account associated with the user mailbox has been hard-deleted from the Azure Active Directory.</span></span> <span data-ttu-id="f5fb8-116">Теперь почтовый ящик пользователя удален в Exchange Online и находится в состоянии мягкого удаления в течение 30 дней.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-116">The user mailbox is now soft-deleted in Exchange Online and stays in a soft-deleted state for 30 days.</span></span> <span data-ttu-id="f5fb8-117">Если в 30-дневный период новый пользователь Azure Active Directory синхронизируется с исходной учетной записью получателя с тем же **ExchangeGuid или ArchiveGuid,** и новая учетная запись лицензирована для Exchange Online, это приведет к жесткому удалению исходного почтового ящика пользователя. </span><span class="sxs-lookup"><span data-stu-id="f5fb8-117">If in the 30-day period a new Azure Active Directory user is synchronized from the original recipient account with the same **ExchangeGuid** or **ArchiveGuid**, and that new account is licensed for Exchange Online, this will result in a hard deletion of the original user mailbox.</span></span> <span data-ttu-id="f5fb8-118">Все содержимое почтовых ящиков, такие как сообщения электронной почты, контакты и файлы, удаляются навсегда.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-118">All mailbox content such as emails, contacts, and files are permanently deleted.</span></span>
- <span data-ttu-id="f5fb8-119">Электронный почтовый ящик удаляется с помощью **Remove-Mailbox -PermanentlyDelete.**</span><span class="sxs-lookup"><span data-stu-id="f5fb8-119">A soft-deleted mailbox is deleted using **Remove-Mailbox -PermanentlyDelete**.</span></span>

<span data-ttu-id="f5fb8-120">В вышеуказанных сценариях удаления предполагается, что почтовый ящик пользователя не в любом из состояниях удержания, как удержание судебного разбирательства или удержание электронных данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-120">The above deletion scenarios assume that the user mailbox isn't in any of the hold states, like Litigation hold or eDiscovery hold.</span></span> <span data-ttu-id="f5fb8-121">Если в почтовом ящике есть какой-либо тип удержания, почтовый ящик не может быть удален.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-121">If there is any type of hold on the mailbox, then the mailbox can't be deleted.</span></span> <span data-ttu-id="f5fb8-122">Для всех типов получателей почты любые параметры [hold](https://support.office.com/article/manage-legal-investigations-in-office-365-2e5fbe9f-ee4d-4178-8ff8-4356bc1b168e?ui=en-US&rs=en-US&ad=US) игнорируются и не влияют на жесткие удаления или мягкие удаления.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-122">For all mail-user recipient types, any [Hold](https://support.office.com/article/manage-legal-investigations-in-office-365-2e5fbe9f-ee4d-4178-8ff8-4356bc1b168e?ui=en-US&rs=en-US&ad=US) settings are ignored and have no effect on hard-deletions or soft-deletions.</span></span>

## <a name="soft-deleted-and-hard-deleted-items"></a><span data-ttu-id="f5fb8-123">Элементы с мягким удалением и жесткой удаленностью</span><span class="sxs-lookup"><span data-stu-id="f5fb8-123">Soft-deleted and hard-deleted items</span></span>

<span data-ttu-id="f5fb8-124">Когда пользователь удаляет элемент почтового ящика (например, сообщение электронной почты, контакт, назначение календаря или задачу), элемент перемещается в папку "Извлекаемые элементы" и в подмостки с именем "Deletions".</span><span class="sxs-lookup"><span data-stu-id="f5fb8-124">When a user deletes a mailbox item (such as an email message, a contact, a calendar appointment, or a task), the item is moved to the Recoverable Items folder, and into a subfolder named "Deletions".</span></span> <span data-ttu-id="f5fb8-125">Это называется мягким удалением.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-125">This is referred to as a soft deletion.</span></span> <span data-ttu-id="f5fb8-126">Срок хранения удаленных элементов в папке Удаленные зависит от периода хранения удаленных элементов, настроенного для почтового ящика.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-126">How long deleted items are kept in the Deletions folder depends on the deleted item retention period that is set for the mailbox.</span></span> <span data-ttu-id="f5fb8-127">Почтовый ящик Exchange Online сохраняет удаленные элементы в течение 14 дней по умолчанию, но администраторы Exchange Online могут изменить этот параметр, чтобы увеличить период до 30 дней.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-127">An Exchange Online mailbox keeps deleted items for 14 days by default, but Exchange Online administrators can change this setting to increase the period up to a maximum of 30 days.</span></span> <span data-ttu-id="f5fb8-128">(Подробные действия по увеличению периода хранения удаленных элементов для почтового ящика Exchange Online см. в статье Изменение срока хранения удаленных элементов для почтового ящика [Exchange Online.)](/exchange/recipients-in-exchange-online/manage-user-mailboxes/change-deleted-item-retention) Пользователи могут восстанавливать или очищать удаленные элементы до истечения срока хранения удаленных элементов.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-128">(For detailed steps to increase the deleted item retention period for an Exchange Online mailbox, see [Change how long permanently deleted items are kept for an Exchange Online mailbox](/exchange/recipients-in-exchange-online/manage-user-mailboxes/change-deleted-item-retention).) Users can recover, or purge, deleted items before the retention time for a deleted item expires.</span></span> <span data-ttu-id="f5fb8-129">Для этого они используют функцию Восстановление удаленных элементов в Microsoft Outlook или Outlook в Интернете.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-129">To do so, they use the Recover Deleted Items feature in Microsoft Outlook or Outlook on the web.</span></span>

<span data-ttu-id="f5fb8-130">Если пользователь очищает удаленный элемент с помощью функции Восстановление удаленных элементов в Outlook или Outlook в Интернете, это называется жесткое удаление.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-130">If a user purges a deleted item by using the Recover Deleted Items feature in Outlook or Outlook on the web, this is known as a hard deletion.</span></span> <span data-ttu-id="f5fb8-131">В Exchange Online восстановление одного элемента включено по умолчанию, когда создается [](/Exchange/recipients/user-mailboxes/recover-deleted-messages) новый почтовый ящик, поэтому администратор может восстановить удаленные элементы до истечения срока хранения удаленных элементов.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-131">In Exchange Online, single item recovery is enabled by default when a new mailbox is created, so an administrator can still [recover](/Exchange/recipients/user-mailboxes/recover-deleted-messages) hard-deleted items before the deleted item retention period expires.</span></span> <span data-ttu-id="f5fb8-132">Кроме того, если сообщение изменено пользователем или процессом, копии исходного элемента также сохраняются при включении восстановления одного элемента.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-132">Also, if a message is changed by a user or a process, copies of the original item are also retained when single item recovery is enabled.</span></span>

## <a name="page-zeroing"></a><span data-ttu-id="f5fb8-133">Обнуление страницы</span><span class="sxs-lookup"><span data-stu-id="f5fb8-133">Page zeroing</span></span>

<span data-ttu-id="f5fb8-134">*Обнуление* — это механизм безопасности, который записывает нули или двоичный шаблон над удаленными данными, чтобы восстановить удаленные данные было сложнее.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-134">*Zeroing* is a security mechanism that writes either zeros or a binary pattern over deleted data so that the deleted data is more difficult to recover.</span></span> <span data-ttu-id="f5fb8-135">В Exchange Online базы данных  почтовых ящиков используют страницы в качестве единицы хранилища и реализуют процесс переописывания, называемый *обнуление страниц.*</span><span class="sxs-lookup"><span data-stu-id="f5fb8-135">In Exchange Online, mailbox databases use *pages* as their unit of storage, and implement an overwriting process called *page zeroing*.</span></span> <span data-ttu-id="f5fb8-136">Обнуление страницы включено по умолчанию и не может быть отключено клиентами или Корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-136">Page zeroing is enabled by default, and it cannot be disabled by customers or by Microsoft.</span></span> <span data-ttu-id="f5fb8-137">Операции обнуля страниц записывают в файлы журнала транзакций, чтобы все копии данной базы данных были обнуляются аналогичным образом.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-137">Page zeroing operations are recorded in the transaction log files so that all copies of a given database are page-zeroed in a similar manner.</span></span> <span data-ttu-id="f5fb8-138">Обнуление страницы на активной копии базы данных приводит к обнуляемой странице пассивных копий базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-138">Zeroing a page on an active database copy causes the page to get zeroed on passive copies of the database.</span></span>

<span data-ttu-id="f5fb8-139">Обнуление страницы записывает двоичный шаблон над трудно удаленными записями.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-139">Page zeroing writes a binary pattern over hard-deleted records.</span></span> <span data-ttu-id="f5fb8-140">Шаблон обнуления страниц специфичен для операций Extensible Storage Engine (ESE) (имя внутреннего двигателя базы данных, используемого серверами в Exchange Online), и отличается для операций, используемых в режиме запуска, и для операций по обслуживанию фоновых баз данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-140">The page-zeroing pattern is specific to Extensible Storage Engine (ESE) operations (the name of the internal database engine used by servers in Exchange Online), and it is different for run-time operations versus background database maintenance operations.</span></span> <span data-ttu-id="f5fb8-141">(Обслуживание базы данных фона — это процесс, который непрерывно проверяет и сканирует каждую базу данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-141">(Background database maintenance is a process that continuously checksums and scans each database.</span></span> <span data-ttu-id="f5fb8-142">Его основная функция — проверка страниц баз данных, но она также обрабатывает очистку пространства и обнуление записей и страниц, которые не были обнуляются из-за сбоя в магазине.)</span><span class="sxs-lookup"><span data-stu-id="f5fb8-142">Its primary function is to checksum database pages, but it also handles cleaning up space and zeroing out records and pages that were not zeroed out because of a Store crash.)</span></span>

<span data-ttu-id="f5fb8-143">В следующей таблице перечислены шаблоны заполнения, соответствующие определенным операциям среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-143">The following table lists the fill patterns that correspond to specific run-time operations.</span></span>

| <span data-ttu-id="f5fb8-144">Операция среды выполнения ESE</span><span class="sxs-lookup"><span data-stu-id="f5fb8-144">ESE run-time operation</span></span>   | <span data-ttu-id="f5fb8-145">Шаблон заполнения</span><span class="sxs-lookup"><span data-stu-id="f5fb8-145">Fill pattern</span></span> |
|--------------------------|--------------|
| <span data-ttu-id="f5fb8-146">Заменить</span><span class="sxs-lookup"><span data-stu-id="f5fb8-146">Replace</span></span>                  | <span data-ttu-id="f5fb8-147">R</span><span class="sxs-lookup"><span data-stu-id="f5fb8-147">R</span></span>            |
| <span data-ttu-id="f5fb8-148">Удалить запись или длинное значение</span><span class="sxs-lookup"><span data-stu-id="f5fb8-148">Record/long value delete</span></span> | <span data-ttu-id="f5fb8-149">D</span><span class="sxs-lookup"><span data-stu-id="f5fb8-149">D</span></span>            |
| <span data-ttu-id="f5fb8-150">Освобожденное место страницы</span><span class="sxs-lookup"><span data-stu-id="f5fb8-150">Freed page space</span></span>         | <span data-ttu-id="f5fb8-151">H</span><span class="sxs-lookup"><span data-stu-id="f5fb8-151">H</span></span>            |

<span data-ttu-id="f5fb8-152">В следующей таблице перечислены шаблоны заполнения, соответствующие определенным операциям, выполняемым во время фонового обслуживания базы данных ESE.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-152">The following table lists the fill patterns that correspond to specific operations that occur during ESE background database maintenance.</span></span>

| <span data-ttu-id="f5fb8-153">Операция фонового обслуживания базы данных ESE</span><span class="sxs-lookup"><span data-stu-id="f5fb8-153">ESE background database maintenance operation</span></span> | <span data-ttu-id="f5fb8-154">Шаблон заполнения</span><span class="sxs-lookup"><span data-stu-id="f5fb8-154">Fill pattern</span></span> |
|-----------------------------------------------|--------------|
| <span data-ttu-id="f5fb8-155">Удалить запись</span><span class="sxs-lookup"><span data-stu-id="f5fb8-155">Record delete</span></span>                                 | <span data-ttu-id="f5fb8-156">D</span><span class="sxs-lookup"><span data-stu-id="f5fb8-156">D</span></span>            |
| <span data-ttu-id="f5fb8-157">Удалить длинное значение</span><span class="sxs-lookup"><span data-stu-id="f5fb8-157">Long value delete</span></span>                             | <span data-ttu-id="f5fb8-158">L</span><span class="sxs-lookup"><span data-stu-id="f5fb8-158">L</span></span>            |
| <span data-ttu-id="f5fb8-159">Освобожденное место частично используемой страницы</span><span class="sxs-lookup"><span data-stu-id="f5fb8-159">Freed page space of partially used page</span></span>       | <span data-ttu-id="f5fb8-160">Z</span><span class="sxs-lookup"><span data-stu-id="f5fb8-160">Z</span></span>            |
| <span data-ttu-id="f5fb8-161">Освобожденное место неиспользуемой страницы</span><span class="sxs-lookup"><span data-stu-id="f5fb8-161">Freed page space of unused page</span></span>               | <span data-ttu-id="f5fb8-162">U</span><span class="sxs-lookup"><span data-stu-id="f5fb8-162">U</span></span>            |

### <a name="page-zeroing-process"></a><span data-ttu-id="f5fb8-163">Процесс обнуля страницы</span><span class="sxs-lookup"><span data-stu-id="f5fb8-163">Page zeroing process</span></span>

<span data-ttu-id="f5fb8-164">Процесс обнуления страниц зависит от сценария удаления.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-164">The process for page zeroing depends on the deletion scenario.</span></span> <span data-ttu-id="f5fb8-165">В следующей таблице описаны сценарии удаления базы данных и случаи выполнения функций обнуления страниц.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-165">The following table discusses database delete scenarios, and when page zeroing functions occur.</span></span>

| <span data-ttu-id="f5fb8-166">Сценарий удаления базы данных</span><span class="sxs-lookup"><span data-stu-id="f5fb8-166">Database delete scenario</span></span> | <span data-ttu-id="f5fb8-167">Процесс ESE и временные рамки обнуления данных в базе данных</span><span class="sxs-lookup"><span data-stu-id="f5fb8-167">ESE process and timeframe to zero database data</span></span> |
|:--------------------------|:------------------------------------------------|
| <span data-ttu-id="f5fb8-168">Срок действия элемента истекает в зависимости от периода хранения удаленных элементов.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-168">Item expires based on the deleted item retention period.</span></span> | <span data-ttu-id="f5fb8-169">В асинхронном потоке двоичный шаблон записывается поверх удаленных данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-169">An asynchronous thread writes a binary pattern over the deleted data.</span></span> <span data-ttu-id="f5fb8-170">Это действие выполняется за те миллисекунды, в течение которых происходит удаление записи.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-170">This action occurs within milliseconds of the record deletion.</span></span> <span data-ttu-id="f5fb8-171">Если процесс Store сбоя, пока работа по асинхронному обнулении еще не выполнена (или очистка магазина версий отменяется из-за роста магазина версий), обнуление завершится, когда фоновое обслуживание базы данных обрабатывает этот раздел базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-171">If the Store process crashes while the asynchronous zeroing work is still outstanding (or version store cleanup is canceled due to version store growth), the zeroing is completed when background database maintenance processes that section of the database.</span></span> |
| <span data-ttu-id="f5fb8-172">Просмотр сценария: истечение срока действия элементов Outlook/Outlook в представлении веб-папки (например, представление беседы)</span><span class="sxs-lookup"><span data-stu-id="f5fb8-172">View Scenario: Expiration of items from Outlook/Outlook on the web folder view (for example, Conversation view)</span></span> | <span data-ttu-id="f5fb8-173">Обнуление данных выполняется при обработке этого раздела базы данных во время фонового обслуживания базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-173">Data zeroing occurs when background database maintenance processes that section of the database.</span></span> |
| <span data-ttu-id="f5fb8-174">Перемещение сценария почтовых ящиков и удаления почтовых ящиков: исходный почтовый ящик удален (истек срок действия удаленного почтового ящика)</span><span class="sxs-lookup"><span data-stu-id="f5fb8-174">Move Mailbox/Delete Mailbox Scenario: Source mailbox deleted (expiry of deleted mailbox)</span></span> | <span data-ttu-id="f5fb8-175">Обнуление данных выполняется при обработке этого раздела базы данных во время фонового обслуживания базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-175">Data zeroing occurs when background database maintenance processes that section of the database.</span></span> |

### <a name="mailbox-data-types-without-page-zeroing"></a><span data-ttu-id="f5fb8-176">Типы данных почтовых ящиков без обнуление страниц</span><span class="sxs-lookup"><span data-stu-id="f5fb8-176">Mailbox data types without page zeroing</span></span>

<span data-ttu-id="f5fb8-177">В следующих типах данных почтовых ящиков нет положений обнуление страниц:</span><span class="sxs-lookup"><span data-stu-id="f5fb8-177">The following mailbox data types have no provisions for page zeroing:</span></span>

- <span data-ttu-id="f5fb8-178">**Журналы** транзакций баз данных почтовых ящиков . При удалении журналов транзакций в рамках обычных операций процесс обнуления блоков в файловой системе, хранимой удаленный файл журнала(ы).</span><span class="sxs-lookup"><span data-stu-id="f5fb8-178">**Mailbox database transaction logs** - When transaction logs are deleted as part of normal operations, there is no process to zero the blocks in the file system that stored the deleted log file(s).</span></span> <span data-ttu-id="f5fb8-179">Вполне вероятно, что файловая система быстро повторит это свободное пространство для вновь созданных журналов, но нет никакой гарантии, что это произойдет.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-179">It's likely that the file system will quickly reutilize that free space for newly created logs, but there is no guarantee that this will happen.</span></span>
- <span data-ttu-id="f5fb8-180">**Файлы каталога индекса контента** . Exchange Online использует Search Foundation (также известный как FAST) для функции индексации поиска.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-180">**Content index catalog files** - Exchange Online uses Search Foundation (also known as FAST) for search indexing functionality.</span></span> <span data-ttu-id="f5fb8-181">Каталог индекса поиска состоит из нескольких десятков файлов, хранимых в том же объеме, что и файл базы данных почтовых ящиков.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-181">The search index catalog is composed of several dozen files stored on the same volume as the mailbox database file.</span></span> <span data-ttu-id="f5fb8-182">При необратимом удалении сообщения из базы данных почтовых ящиков связанное с ним содержимое в каталоге поиска не удаляется в тот же момент.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-182">When a message is hard-deleted from the mailbox database, the associated content in the search catalog isn't immediately deleted.</span></span> <span data-ttu-id="f5fb8-183">Удаление контента происходит, когда Фонд поиска делает теневое (или мастер-слияние) многих небольших файлов каталога в одном большом файле.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-183">Content deletion occurs when Search Foundation does a shadow (or master merge) of many small catalog files in to a single larger file.</span></span> <span data-ttu-id="f5fb8-184">После завершения основного объединения файлы каталога меньшего размера удаляются.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-184">After the master merge completes, the smaller catalog files are deleted.</span></span> <span data-ttu-id="f5fb8-185">Не требуется обнулять блоки, хранимые удаленные файлы каталога.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-185">There is no process to zero the blocks that stored the deleted catalog files.</span></span>

## <a name="continuous-replication"></a><span data-ttu-id="f5fb8-186">Непрерывная репликация</span><span class="sxs-lookup"><span data-stu-id="f5fb8-186">Continuous replication</span></span>

<span data-ttu-id="f5fb8-187">Непрерывная репликация (также известная как доставка журналов и повторение) — это технология в Exchange Online, которая создает и поддерживает копии каждой базы данных почтовых ящиков для обеспечения высокой доступности, устойчивости сайта и аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-187">Continuous replication (also known as log shipping and replay) is technology in Exchange Online that creates and maintains copies of every mailbox database to provide high availability, site resilience, and disaster recovery.</span></span> <span data-ttu-id="f5fb8-188">Непрерывная репликация использует Exchange Server поддержки аварийного восстановления базы данных для предоставления технологии, которая выполняет асинхронное обновление одной или более копий базы данных почтовых ящиков.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-188">Continuous replication uses the Exchange Server database crash recovery support to provide technology that performs asynchronous updating of one or more copies of a mailbox database.</span></span> <span data-ttu-id="f5fb8-189">Каждый сервер почтовых ящиков записи обновлений базы данных, сделанных в активной базе данных (например, активность электронной почты пользователя) в качестве записей журнала в последовательном наборе 1-МБ файлов журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-189">Each mailbox server records database updates made on an active database (for example, user email activity) as log records in a sequential set of 1-MB transaction log files.</span></span> <span data-ttu-id="f5fb8-190">Этот набор файлов называется потоком журналов.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-190">This set of files is referred to as the log stream.</span></span> <span data-ttu-id="f5fb8-191">В непрерывной репликации поток журналов также используется для асинхронного обновления одной или более копий базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-191">In continuous replication, the log stream is also used to asynchronously update one or more copies of a database.</span></span> <span data-ttu-id="f5fb8-192">Это достигается путем передачи журналов в расположение, содержащее пассивную копию активной базы данных, а затем их воспроизведение в пассивную копию базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-192">This is accomplished by transmitting the logs to a location containing a passive copy of the active database and then replaying them into the passive database copy.</span></span> <span data-ttu-id="f5fb8-193">Если все журналы из активной базы данных переигровываться с пассивной копией базы данных, то эти две базы данных эквивалентны, и именно в этом процессе все физические изменения, сделанные в активной базе данных, реплицированы во все пассивные копии этой базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-193">If all logs from the active database are replayed against a passive copy of the database, then the two databases are equivalent, and it is through this process that any physical change made to an active database is replicated to all passive copies of that database.</span></span>

<span data-ttu-id="f5fb8-194">Любое удаление из базы данных почтовых ящиков, будь то элемент почтового ящика или весь почтовый ящик, а также мягкое удаление или жесткое удаление, представляет физическое изменение активной базы данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-194">Any deletion from a mailbox database, whether a mailbox item or an entire mailbox, and whether a soft-delete or a hard-delete, represents a physical change to the active database.</span></span> <span data-ttu-id="f5fb8-195">Обнуление страницы также предполагает внесение физических изменений в активную базу данных.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-195">Page zeroing also entails making physical changes to the active database.</span></span> <span data-ttu-id="f5fb8-196">Эти изменения пишутся в файлах журнала в процессе, называемом непрерывной репликацией, и когда эти файлы журнала переигровывалися с пассивными копиями базы данных, в эти пассивные базы данных внося те же физические изменения.</span><span class="sxs-lookup"><span data-stu-id="f5fb8-196">These changes are written to the log files through a process called continuous replication, and when those log files are replayed against passive copies of the database, the same physical changes are made to those passive databases.</span></span>
