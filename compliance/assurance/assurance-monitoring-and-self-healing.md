---
title: Мониторинг данных и самовосстановления в Microsoft 365
description: В этой статье вы узнаете о возможностях мониторинга и самовосстановления Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom:
- seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: d55621d10284c427afedeb3d60807411841d41dda2e07c52b293a676448dbe73
ms.sourcegitcommit: af1925730de60c3b698edc4e1355c38972bdd759
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/05/2021
ms.locfileid: "54290628"
---
# <a name="data-monitoring-and-self-healing-in-microsoft-365"></a>Мониторинг данных и самовосстановления в Microsoft 365

Учитывая масштабы Microsoft 365, невозможно сохранить устойчивость и безопасность данных клиентов от вредоносных программ без встроенного мониторинга, который является всеобъемлющим, оповещающим, что является интеллектуальным и самовосстановления, что является быстрым и надежным. Наблюдение за набором служб в масштабе Microsoft 365 очень сложно. Необходимо ввести новые подходы и методологии, а также создать новые наборы технологий для работы и управления службой в подключенной глобальной среде. Мы перешли от традиционного подхода мониторинга сбора и фильтрации данных к созданию оповещений к подходу, основанному на анализе данных; принятие сигналов и создание уверенности в этих данных, а затем с помощью автоматизации для восстановления или решения проблемы. Этот подход помогает выкачивать людей из уравнения восстановления, что, в свою очередь, делает операции менее дорогостоящими, быстрыми и менее подверженными ошибкам. 

Основным для Microsoft 365 мониторинга является набор технологий, в состав которых входит наш двигатель данных Аналитика, который построен на технологии azure, SQL Azure и потоковой базы данных с открытым исходным [кодом.](https://cassandra.apache.org/) Она предназначена для сбора и агрегированного сбора данных и вывода. В настоящее время он обрабатывает более 500 миллионов событий в час с более чем 100 000 серверов (~15 ТБ в день), разбросанных по десяткам центрах обработки данных во многих регионах, и эти цифры растут. 

Microsoft 365 *для* проверки всего важного используется внешний мониторинг, который включает создание синтетических транзакций. Например, в Exchange Online каждый сценарий тестирует каждую базу данных по всему миру каждые пять минут в рассеянной форме, обеспечивая практически непрерывное освещение всего, что живет в системе. Из нескольких местоположений выполняется 250 миллионов тестовых транзакций в день для создания надежной базовой линии или сердцебиения для службы. 

Microsoft 365 также использует концепцию *Red Alert,* которая сжимает все сигналы мониторинга со всех машин в наших центрах обработки данных до чего-то управляемого человеком. Концепция довольно проста: если что-то происходит по нескольким сигналам, должно быть что-то происходит. Речь идет не о создании доверия к одному сигналу, а о том, чтобы иметь разумную верность для каждого сигнала, чтобы вы могли получить больше точности. Эта система мониторинга настолько мощна, что у нас нет 24x7 сотрудников, наблюдающих за нашими мониторами; Все, что у нас есть, это механизм, который просыпается, если он обнаруживает проблему, в этом случае он будет страницу соответствующего персонала по вызову, или чаще, как это происходит, он будет просто идти вперед и решить проблему. После начала сбора сигналов и создания красных оповещений мы можем начать триангуляционные работы во всех разделах службы. 

На основе сочетания оповещений о сбое и красных оповещений это оповещение указывает точно, какие компоненты могут иметь проблемы, и что система будет пытаться устранить проблему самостоятельно, перезапустив сервер почтовых ящиков. 

В дополнение к возможностям самовосстановления, таким как восстановление одной страницы, Exchange Online включает несколько функций, которые подходят к мониторингу и самовосстановления, который фокусируется на сохранении интерфейса для конечных пользователей. К этим функциям относятся *managed Availability,* которая обеспечивает встроенные действия по мониторингу и восстановлению, и AutoReseed, который автоматически восстанавливает избыточность базы данных после сбоя диска. 

## <a name="managed-availability"></a>Управляемая доступность 

Управляемое доступность предоставляет решение для проверки работоспособности и восстановления, которое отслеживает и защищает опыт конечных пользователей с помощью действий, ориентированных на восстановление. Управляемое наличие — это интеграция встроенных действий мониторинга и восстановления с Exchange высокой доступности. Она создана для обнаружения проблем и восстановления после них сразу после их возникновения и обнаружения системой. В отличие от предыдущих решений и методов мониторинга для Exchange функция управляемой доступности не пытается определить основную причину проблемы или уведомить о ней пользователей. Вместо этого он ориентирован на аспекты восстановления, которые посвящены трем ключевым областям работы с конечным пользователем:

- **Доступность .** Могут ли пользователи получить доступ к службе? 
- **Задержка —** каков опыт для пользователей? 
- **Ошибки** . Могут ли пользователи выполнять то, что они хотят? 

Управляемое доступность — это внутренняя функция, которая выполняется на Microsoft 365 сервере, Exchange Online. Он каждую секунду опрашивает и анализирует сотни метрик работоспособности. Если установлено, что что-то не так, большую часть времени оно фиксируется автоматически. Но всегда будут проблемы, которые управляемой доступности не удастся устранить самостоятельно. В этих случаях управляемое доступность может перенаправить проблему в Microsoft 365 службу поддержки с помощью ведения журнала событий.

## <a name="autoreseed"></a>AutoReseed

Exchange Online серверы развернуты в конфигурации, которая хранит несколько баз данных и их потоки журналов на одном диске без RAID. Эту конфигурацию часто называют  просто набором дисков (JBOD), так как для дублирования данных на диске не используются никакие механизмы избыточности хранилища, такие как RAID. При сбое диска в среде JBOD данные на этом диске теряются. 

Учитывая размер Exchange Online и тот факт, что в нем развернуты миллионы дисковых дисков, сбои диска являются регулярным явлением в Exchange Online. На самом деле более 100 сбой каждый день. Если диск не работает в локальном развертывании предприятия, администратор должен вручную заменить сбойный диск и восстановить затронутые данные. В облачном развертывании размер Microsoft 365, когда операторы (облачные администраторы) вручную заменяют диски, нецелесообразно ни с практической, ни с экономической точки зрения. 

Автоматическая reseed или *AutoReseed*— это функция, которая заменяет обычно управляемые оператором действия в ответ на сбой диска, событие повреждения базы данных или другую проблему, которая требует повторного копирования копии базы данных. Функция Autoreseed была создана для автоматического восстановления избыточности базы данных после сбоя диска с помощью запасных дисков, настроенных в системе. В случае сбой диска копии баз данных, хранимые на этом диске, автоматически перенаправляются на предварительно заранее сконфигурированные запасные диски на сервере, тем самым восстанавливая избыточность. 